\documentclass[a4paper,10pt,ngerman]{scrartcl}
\usepackage{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{textcomp}
\usepackage[a4paper,margin=2.5cm,footskip=0.5cm]{geometry}

% Die nächsten drei Felder bitte anpassen:
\newcommand{\Aufgabe}{Aufgabe 2: Spießgesellen} % Aufgabennummer und Aufgabennamen angeben
\newcommand{\TeilnahmeId}{55628}       % Teilnahme-Id angeben
\newcommand{\Namen}{Michal Boron} % Namen der Bearbeiter/-innen dieser Aufgabe angeben
 
% Kopf- und Fußzeilen
\usepackage{scrlayer-scrpage, lastpage}
\setkomafont{pageheadfoot}{\large\textrm}
\lohead{\Aufgabe}
\rohead{Teilnahme-Id: \TeilnahmeId}
\cfoot*{\thepage{}/\pageref{LastPage}}

% Position des Titels
\usepackage{titling}
\setlength{\droptitle}{-1.0cm}
\usepackage{seqsplit}
\usepackage{verbatim}

% Für mathematische Befehle und Symbole
\usepackage{amsmath}
\usepackage{amssymb}
%\usepackage{cite}

\usepackage[backend=bibtex]{biblatex}
\addbibresource{stromrallye.bib}

\usepackage{hyperref}
\hypersetup{
    colorlinks=false,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
}
% Für Bilder
\usepackage{graphicx}
\usepackage[all]{xy}
\usepackage{svg}
\graphicspath{ {./images/} }

% Für Algorithmen
\usepackage{algpseudocode}
\usepackage{algorithm}
\usepackage{gensymb}
\usepackage{tikz}
\usepackage{caption}
\usepackage{subcaption}

\usepackage[backgroundcolor=lightgray]{todonotes}
\usepackage{minibox}

\usepackage{amsthm}
\usepackage{enumitem}

% Für Quelltext
\usepackage{listings}
\usepackage{color}
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\lstset{
  keywordstyle=\color{blue},commentstyle=\color{mygreen},
  stringstyle=\color{mymauve},rulecolor=\color{black},
  basicstyle=\footnotesize\ttfamily,numberstyle=\tiny\color{mygray},
  captionpos=b, % sets the caption-position to bottom
  keepspaces=true, % keeps spaces in text
  numbers=left, numbersep=5pt, showspaces=false,showstringspaces=true,
  showtabs=false, stepnumber=2, tabsize=2, title=\lstname
}

% Diese beiden Pakete müssen zuletzt geladen werden
%\usepackage{hyperref} % Anklickbare Links im Dokument
\usepackage{cleveref}
%\newtheorem{lemma}{Lemma}
%\newenvironment{proof}{\paragraph{Beweis:}}{\hfill$\square$}
\newtheorem{lemma}{Lemma}
\newtheorem{definition}{Definition}
\newtheorem{satz}{Satz}
\newtheorem{axiom}{Axiom}
%\renewcommand*{\proofname}{Solution}

\newcommand{\TODO}[1]{\todo[inline]{TODO: #1}}
\newcommand{\mb}[1]{{\color{red}[MB: #1]}}
\newcommand{\tbf}[1]{\textbf{#1}}
\newcommand{\ttt}[1]{\texttt{#1}}

\usetikzlibrary{fit,backgrounds,positioning}
\tikzset{vertex/.style={circle,draw,minimum size=0.8cm,inner sep=1pt,fill=white}}

% Daten für die Titelseite
\title{\textbf{\Huge\Aufgabe}}
\author{\LARGE Teilnahme-Id: \LARGE \TeilnahmeId \\\\
	    \LARGE Bearbeiter dieser Aufgabe: \\ 
	    \LARGE \Namen\\\\}
\date{\LARGE April 2021}

\begin{document}

\maketitle
\tableofcontents

\section{Lösungsidee}
\input{./tex/formulierung.tex}

\input{./tex/bipartiter-graph.tex}

\input{./tex/logik.tex}

\subsection{Zusammenhangskomponenten}
Nach der Verarbeitung der allen $m$ Spießkombinationen verfügen wir über den Graphen $G$,
in dem viele Kanten in $E$ entfernet wurden.
Auf diese Weise können wir schon anfangen, die Indizes der Obstsorten aus $W$ festzulegen.
Definieren wir zunächst, was generell ein \tbf{Matching} ist.

\input{./tex/lemmata/def_matching.tex}

\noindent
Zwischen verschiedenen Typen des Matchings unterscheidet man auch das \tbf{perfekte Matching}.

\input{./tex/lemmata/def_perfect-matching.tex}

\noindent
Um die Aufgabe in der Form zu lösen, eignet sich gut der \tbf{Satz von Hall},
der als ein Ausgangspunkt der ganzen Matching--Theorie gilt. 
Um sich dieses Satzes zu bedienen, muss man noch den Begriff der \tbf{Nachbarschaft} einführen.

\input{./tex/lemmata/def_nachbarschaft.tex}

\input{./tex/lemmata/satz_von_hall.tex}

\input{./tex/lemmata/lem_grad1.tex}


\begin{lemma}\label{lem:grad-groesser1}
Seien $x \in A$ ein Knoten in $G$ und seine Kardinalität $\Delta(x) = k > 1$.
Dann gehört $x$ zu einer Zusammenhangskomponente $C = (V_c, E_c)$, wobei
die Menge $V_c$ aus insgesamt $2k$ Knoten $x_1, ..., x_k \in A$ 
und $y_1, ..., y_k \in B$ besteht. Für die Menge $E_c$ gilt:
$E_c = \{(x_i, y_j) \,|\, $für alle $ 1 \leqslant i,j \leqslant k \}$.
$C$ ist deshalb selbt ein vollständiger, bipartiter Graph.
\end{lemma}
\begin{proof}
Der Beweis erfolgt durch Widerspruch.
\TODO{Beweis} 
\end{proof}

\TODO{Lemmata über Zuweisungen (Satz von Hall) in Komponenten:\\
eine Zuweisung ist immer möglich\\
alle auf der Wunschliste\\
mind. ein nicht auf der Wunschliste}

\input{./tex/lemmata/lem_komponente-matching.tex}

\begin{lemma}\label{}
Sei $C = (V_c, E_c)$ eine Zusammenhangskomponente in $G$.
Wenn gilt: $\forall x \in A \cap V_c : x \in W$, dann werden alle $y \in B \cap V_c$ in $W'$ hinzugefügt.
\end{lemma}
\begin{proof} 
Nach Axiom \ref{ax:obstsorte-index} besitzt jede Obstsorte genau einen einzigartigen Index.
Die Zusammenhangskomponente $C$ beschreibt nach Lemmata \ref{lem:grad-groesser1} und \ref{lem:komponente-matching},
dass jede Obstsorte $x \in A \cap V_c$ jeden Index $y \in B \cap V_c$ haben kann, weil
ein perfektes Matching stets existiert und $C$ ein vollständiger, bipartiter Graph ist.

Dadurch, dass $\forall x \in A \cap V_c : x \in W$ gilt,
ist ohne Bedeutung, welchen Index die jeweilige Obstsorte besitzt, da
 die Lösung des Problems eine Menge $W'$ mit den Indizes der Obstsorten aus $W$ sein soll.
Dadurch, dass $A \cap V_c \subseteq W$ auch gilt: $B \cap V_c \subseteq W'$. 
\end{proof}

\begin{lemma}
Sei $C = (V_c, E_c)$ eine Zusammenhangskomponente in $G$.
Wenn gilt: $\exists x \in A \cap V_c : x \notin W$, dann kann die Menge $W'$ nicht eindeutig
festgelegt werden.
\end{lemma}
\begin{proof}
Nach Axiom \ref{ax:obstsorte-index} besitzt jede Obstsorte genau einen einzigartigen Index.
Die Zusammenhangskomponente $C$ beschreibt nach Lemmata \ref{lem:grad-groesser1} und \ref{lem:komponente-matching},
dass jede Obstsorte $x \in A \cap V_c$ jeden Index $y \in B \cap V_c$ haben kann, weil
ein perfektes Matching stets existiert und $C$ ein vollständiger, bipartiter Graph ist.

Angenommen, $\exists p \in A \cap V_c \land p \notin W$. Dann ist es unmöglich, festzustellen,
welcher Index aus $B \cap V_c$ der Obstsorte $p$ gehört.
Also ist es auch unmöglich, festzustellen, welche Indizes in $W'$ hinzugefügt werden sollen.
Deshalb, unabhängig von allen anderen Zusammenhangskomponenten des Graphen $G$,
ist unmöglich, eine eindeutige Menge der Indizes der gewünschten Obstsorten festzulegen.
Dadurch gibt es keine eindeutige Lösung zu diesem Problem für diese Eingabe.
\end{proof}


\begin{lemma}
\TODO{umschreiben}
Wenn alle Zusammenhangskomponten, die die Wünsche aus $W$ beinhalten, nur aus den Wüschen
aus $W$ bestehen, kann $W'$ eindeutig und vollständig festgelegt werden.
\end{lemma}
\begin{proof} 
\end{proof}


\begin{figure}[h]
\centering
\begin{subfigure}[c]{.49\textwidth}
\centering
\input{./tex/tikz/after-infos.tex}
\caption{Der Graph nach der Analyse der allen Spießkombinationen}
\label{fig:graph-after-infos}
\end{subfigure}
\begin{subfigure}[c]{.49\textwidth}
\centering
\input{./tex/tikz/component.tex}
\caption{Die ürbige Zusammenhangskomponente}
\label{fig:component-left}
\end{subfigure}
\end{figure}

\subsection{Prüfung auf Korrektheit der Eingabe}\label{sec:korrektheit-eingabe}
\subsection{Laufzeit}\label{sec:laufzeit}

\section{Umsetzung}\label{sec:umsetzung}
\subsection{Klasse \ttt{Solver}}
\subsection{Klasse \ttt{Graph}}

\section{Beispiele}

\input{./tex/beispiele.tex}

\section{Quellcode}
\lstinputlisting[language=C++]{./tex/spiesse.m}

\end{document}